(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,a){},40:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),o=a(29),l=a.n(o),i=(a(38),a(13)),r=a(2),d=a(32),j=a(17),b=a.n(j),m=a(30),u=a(8);a(40);var h=function(){return Object(n.jsx)("header",{children:Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-secondary",children:[Object(n.jsx)("h1",{className:"p-2 mb-2 ml-3",children:Object(n.jsx)("a",{className:"navbar-brand pl-3 px-1",href:"/",children:"Google Books"})}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(n.jsxs)("ul",{className:"navbar-nav ml-md-auto",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{to:"/search",className:"nav-link",children:"Search"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{to:"/saved",className:"nav-link",children:"Saved"})})]}),Object(n.jsx)("div",{className:"px-3"})]})]})})};a(46);var v=function(e){return Object(n.jsxs)("div",{className:"container mb-5",children:[Object(n.jsx)("div",{className:"card",children:Object(n.jsx)("input",{type:"text",className:"bar form-control text-center",placeholder:"What are you looking for?",onChange:e.handleSearchChange})}),Object(n.jsx)("button",{className:"btn btn-primary mt-4",id:"searchBtn",onClick:e.searchBooks,children:"Search Books"})]})};a(47);var x=function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[void 0!==t?t.map((function(t,a){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"card result",children:Object(n.jsxs)("div",{className:"row mb-4 mt-3",children:[Object(n.jsx)("div",{className:"col-lg-4 bookImg",children:t.volumeInfo.imageLinks?Object(n.jsx)("img",{className:"img-fluid",src:t.volumeInfo.imageLinks.thumbnail,alt:t.volumeInfo.title}):Object(n.jsx)("img",{src:"./googlebookslogo.png",alt:"title",className:"img-fluid logo2"})}),Object(n.jsxs)("div",{className:"col-lg-8 mainContent",children:[Object(n.jsx)("h2",{children:t.volumeInfo.title}),Object(n.jsx)("p",{children:void 0!==t.volumeInfo.authors?t.volumeInfo.authors.join(" & "):t.volumeInfo.authors}),Object(n.jsx)("p",{className:"mr-4",children:t.volumeInfo.description}),Object(n.jsx)("a",{className:"btn btn-primary",target:"_blank",rel:"noreferrer",href:t.volumeInfo.infoLink,children:"View"}),Object(n.jsx)("button",{className:"ml-3 btn btn-primary",onClick:function(){e.saveBook(t)},children:"Save Book"})]})]})})},t.id+a)})):Object(n.jsx)("div",{className:"container mb-5",children:Object(n.jsx)("div",{className:"card result",children:Object(n.jsx)("h2",{className:"p-5",children:"Sorry, we couldn't find any matching results."})})}),Object(n.jsx)("div",{className:e.modalClass,id:"contactModal",role:"dialog",children:Object(n.jsx)("div",{className:"modal-dialog",role:"document",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsx)("div",{className:"modal-header",children:Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"})}),Object(n.jsxs)("div",{className:"modal-body mt-2",children:[Object(n.jsx)("p",{children:e.text}),Object(n.jsx)("svg",{width:"2em",height:"2em",viewBox:"0 0 16 16",className:"bi bi-archive",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"})})]}),Object(n.jsx)("div",{className:"modal-footer",children:Object(n.jsx)("button",{onClick:function(){return e.modalClose()},type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"})})]})})})]})},O=a(10),f=a.n(O),g={getBooks:function(e){return f.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},getApiBooks:function(){return f.a.get("/api/books")},addBook:function(e){return f.a.post("/api/books",e)},deleteBook:function(e){return f.a.delete("/api/books/"+e)},findBook:function(e){return f.a.get("/api/search")}};a(65);var p=function(){return Object(n.jsx)("div",{className:"jumbotron jumbotron-fluid bg-dark text-white",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"display-4 text-center mt-5 mb-3",children:"Google Books Search"}),Object(n.jsx)("img",{className:"logo",src:"./googlebookslogo.png",alt:"logo"}),Object(n.jsx)("p",{className:"lead text-center mt-3",children:"Search for and Save Books of Interest"})]})})};a(66);var N=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],s=t[1],o=Object(c.useState)([]),l=Object(u.a)(o,2),i=l[0],r=l[1],j=Object(c.useState)("modal hideModal"),O=Object(u.a)(j,2),f=O[0],N=O[1],k=Object(c.useState)("Saved!"),B=Object(u.a)(k,2),w=B[0],I=B[1],C=Object(c.useState)([]),S=Object(u.a)(C,2),y=S[0],L=S[1];Object(c.useEffect)((function(){}),[f]);var M=function(){var e=Object(m.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).length=0,e.next=4,g.getBooks(a).then((function(e){return e.data.items}));case 4:n=e.sent,r(n),g.getApiBooks().then((function(e){for(var a=0;a<e.data.length;a++)t.push(e.data[a].id);console.log("savebook response: ",e)})),console.log("holder: ",t),L(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"mb-5",children:[Object(n.jsx)(h,{}),Object(n.jsx)(p,{}),Object(n.jsx)(v,{handleSearchChange:function(e){var t=e.target.value;s(t)},searchBooks:M}),Object(n.jsx)(x,{data:i,saveBook:function(e){var t;t=void 0===e.volumeInfo.imageLinks?"./googlebookslogo.png":e.volumeInfo.imageLinks.thumbnail,y.includes(e.id)?(N("modal showModal"),I(e.volumeInfo.title+" is already saved!")):(L([].concat(Object(d.a)(y),[e.id])),N("modal showModal"),I(e.volumeInfo.title+" was saved!"));var a={title:e.volumeInfo.title,author:e.volumeInfo.authors,description:e.volumeInfo.description,image:t,link:e.volumeInfo.infoLink,id:e.id};g.addBook(a).then((function(e){console.log("saved",e)})).then((function(e){console.log("error",e)}))},modalClose:function(){N("modal hideModal")},text:w,modalClass:f})]})};a(67);var k=function(e){var t=e.books,a=e.deleteBooks;return t.map((function(e){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"row mb-4 mt-3",children:[Object(n.jsx)("div",{className:"col-lg-4 bookImg",children:e.image?Object(n.jsx)("img",{src:e.image,alt:"title",className:"img-fluid"}):Object(n.jsx)("img",{src:"https://via.placeholder.com/140x100",alt:"title",className:"img-fluid"})}),Object(n.jsxs)("div",{className:"col-lg-8 savedContent",children:[Object(n.jsx)("h2",{children:e.title}),Object(n.jsx)("p",{children:e.author.join(" & ")}),Object(n.jsx)("p",{className:"mr-4",children:e.description}),Object(n.jsx)("a",{className:"viewBtn btn btn-primary",target:"_blank",rel:"noreferrer",href:e.link,children:"View"}),Object(n.jsx)("button",{onClick:function(){return a(e._id)},className:" deleteBtn btn ml-3",children:"Remove"})]})]})})},e.id)}))};var B=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1];return Object(c.useEffect)((function(){g.getApiBooks().then((function(e){return o(e.data)}))}),[]),Object(c.useEffect)((function(){}),[a]),Object(n.jsx)("div",{className:"mb-5",children:Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(h,{}),Object(n.jsx)(p,{}),Object(n.jsx)(k,{books:a,deleteBooks:function(e){g.deleteBook(e).then((function(e){g.getApiBooks().then((function(e){o(e.data)}))}))}})]})})};var w=function(){return Object(n.jsx)(i.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(r.c,{children:[Object(n.jsx)(r.a,{exact:!0,path:"/",component:N}),Object(n.jsx)(r.a,{exact:!0,path:"/search",component:N}),Object(n.jsx)(r.a,{exact:!0,path:"/saved",component:B})]})})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),I()}},[[68,1,2]]]);
//# sourceMappingURL=main.0afe4e93.chunk.js.map